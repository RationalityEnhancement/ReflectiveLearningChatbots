[
  {
    "qId" : "initiateContact",
    "qType" : "dummy",
    "cNextQuestions" : [
      {
        "if" : "(${STAGE_DAY} > $N{4}) AND (${warningGiven} != $B{true})",
        "then" : "Post-Test.wantContinue"
      },
      {
        "if" : "(${STAGE_DAY} > $N{4}) AND (${warningGiven} == $B{true})",
        "then" : "Post-Test.endExperiment",
        "else" : "Post-Test.survey"
      }
    ],
    "selectQFirst" : true,
    "cNextActions" : [{
      "if" : "(${STAGE_DAY} > $N{4}) AND (${warningGiven} != $B{true})",
      "then" : [
        {
          "aType" : "setBooleanVar",
          "args" : ["warningGiven", "$B{true}"]
        }
      ]
    }],
    "replyMessages" : {
      "English" : ["Good morning, ${FIRST_NAME}!"],
      "Deutsch" : ["Guten Morgen, ${FIRST_NAME}!"]
    }
  },
  {
    "qId" : "wantContinue",
    "qType" : "singleChoice",
    "text" : {
      "English" : "Would you like to continue with the program or end it now? If you choose to end it, you will stop receiving messages.",
      "Deutsch" : "Möchten Sie mit dem Programm fortfahren oder es jetzt beenden? Wenn Sie sich für das Beenden entscheiden, werden Sie keine Nachrichten mehr erhalten."
    },
    "options" : {
      "English" : ["Continue", "End program"],
      "Deutsch" : ["Fortfahren", "Programm beenden"]
    },
    "cNextQuestions" : [
      {
        "if" : "${CURRENT_ANSWER} HAS_CHOICE_IDX $N*{1}",
        "then" : "Post-Test.endExperiment",
        "else" : "Post-Test.survey"
      }
    ],
    "cReplyMessages" : [
      {
        "if" : "${CURRENT_ANSWER} HAS_CHOICE_IDX $N*{0}",
        "then" : {
          "English" : ["Great to hear from you. I see you want to continue the experiment!", "Please follow the instructions to continue."],
          "Deutsch" : ["Schön, dass Sie das Programm fortsetzen möchten!", "Bitte folgen Sie den Anweisungen um fortzufahren."]
        }
      }
    ]
  },
  {
    "qId" : "endExperiment",
    "qType" : "dummy",
    "nextActions" : [
      {
        "aType" : "endExperiment"
      }
    ],
    "replyMessages" : {
      "English" : ["The program has ended."],
      "Deutsch" : ["Das Programm ist beendet."]
    }
  },
  {
    "qId" : "survey",
    "qType" : "qualtrics",
    "text" : {
      "English" : "Please take the time to fill out the following survey thoughtfully and thoroughly.",
      "Deutsch" : "Bitte nehmen Sie sich die Zeit, die folgenden Fragebögen sorgfältig und vollständig auszufüllen."
    },
    "qualtricsLink" : "https://uclapsych.qualtrics.com/jfe/form/SV_dnyDkYNjDIEwveC",
    "qualtricsFields" : [
      {
        "field" : "uniqueId",
        "value" : "${UNIQUE_ID}"
      },
      {
        "field" : "condition",
        "value" : "${CONDITION}"
      },
      {
        "field" : "stage",
        "value": "Post-Test"
      }
    ],
    "reminder" : {
      "customMins" : [30, 90, 210]
    },
    "inputPrompt" : {
      "English" : "Enter the survey code displayed at the end of the survey to continue.",
      "Deutsch" : "Geben Sie den am Ende des Fragebogens angezeigten Code ein, um fortzufahren."
    },
    "continueStrings" : ["POST2023", "TestBypass"],
    "nextActions" : [
      {
        "aType" : "setBooleanVar",
        "args" : ["postTestComplete", "$B{true}"]
      },
      {
        "aType" : "setBooleanVar",
        "args" : ["warningGiven", "$B{false}"]
      }
    ],
    "replyMessages" : "$F{json/experiments/RL-Orgs/replyMessages/survey.json}",
    "nextQuestion" : "Post-Test.nextSteps"
  },
  {
    "qId" : "nextSteps",
    "qType" : "dummy",
    "replyMessages" : {
      "English" : ["That’s all for now. From today onwards, I will be quiet for a while. You will hear from me after 7 days, when I present you the final round of questionnaires.", "See you later, and have a good break!"],
      "Deutsch" : ["Das ist alles für den Moment. Von heute an werde ich mich eine Woche lang nicht melden. In 7 Tagen komme ich noch mal mit der letzten Fragerunde zurück.", "Bis dann!"]
    }
  },
  {
    "qId" : "checkComplete",
    "qType" : "dummy",
    "cNextActions" : [
      {
        "if": "${postTestComplete} == $B{true}",
        "then" : [{
          "aType" : "startStage",
          "args" : ["Pause"]
        }]
      }
    ]
  }
]